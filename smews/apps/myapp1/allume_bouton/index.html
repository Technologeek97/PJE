<!DOCTYPE html>
<html>
  <head>
    <title>Led Switch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
	
	<script>
		var state1 = 0;
		var state2 = 0;
		var state3 = 0;
		var state4 = 0;
			
		function on_off(led){
			var chaine = "on_off?led="+led;
			ajaxGet(chaine);
			var buttons = document.getElementsByTagName('button');
			if(buttons[led-1].className == "btn btn-primary col-xs-3"){
				buttons[led-1].className = "btn btn-default col-xs-3";
			}
			else{
				buttons[led-1].className = "btn btn-primary col-xs-3";
			}
		}
		
		function ajaxGet(url) {
			var xhr;
			var xhrTimer;
			try{ xhr = new XMLHttpRequest(); }
			catch(e){ xhr = new ActiveXObject('Microsoft.XMLHTTP'); }

			xhr.onreadystatechange = function(){
				chart.sampleCallBack(xhr,xhrTimer);
			};
			xhr.open("GET", url, true);
			xhrTimer = setTimeout(function() { xhr.abort(); this.inFlight = 0;}, 1000);
			xhr.send(null);
		}
	</script>
	<body style="margin:auto; width:80%;">
		<h1 class="text-primary container">LED SWITCH</h1>
		<br />
		<br />
		<div class="row"></div>
			<button class="btn btn-default col-xs-3" onclick="on_off(1)">led 1</button>
			<button class="btn btn-default col-xs-3" onclick="on_off(2)">led 2</button>
			<button class="btn btn-default col-xs-3" onclick="on_off(3)">led 3</button>
			<button class="btn btn-default col-xs-3" onclick="on_off(4)">led 4</button>
		</div>
		<br />
		<br />
		<br />
		<br />
		<p class="text-right text-muted"><strong>Powered by Vincent Vidal & Jules VANNESTE.</strong></p>
	</body>
</html>
